<!doctype html>
<html lang="ja">
 <head>

  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">


  <title>Secure Contexts 日本語訳</title>


  <link href="../default.css" rel="stylesheet" type="text/css">


  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>


  <meta content="Bikeshed 1.0.0" name="generator">
 </head>


 <body class="h-entry">

  <div class="head">

   <p class="note" role="note">
    この文書は、2015年7月17日時点で Editor's Draft である <a href="https://w3c.github.io/webappsec/specs/powerfulfeatures/">Secure Contexts</a> の日本語訳です。正式な文書は英語版のみであることにご注意ください。
    <br>
    詳しくは<a href="https://github.com/hashedhyphen/webappsec-specjp/blob/master/README.md">こちら</a>をご覧ください。
   </p>

   <hr title="Separator for header">

   <p data-fill-with="logo">
    <a class="logo" href="http://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/Icons/w3c_home" width="72"></a>
   </p>

   <h1 class="p-name no-ref" id="title">Secure Contexts</h1>

   <h2 class="no-num no-toc no-ref heading settled" id="subtitle">
    <span class="content">Editor’s Draft, <time class="dt-updated" datetime="2015-07-17">17 July 2015</time></span>
   </h2>

   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://w3c.github.io/webappsec/specs/powerfulfeatures/">https://w3c.github.io/webappsec/specs/powerfulfeatures/</a>
     <dt>Latest version:
     <dd><a href="http://www.w3.org/TR/powerful-features/">http://www.w3.org/TR/powerful-features/</a>
     <dt>Previous Versions:
     <dd><a href="http://www.w3.org/TR/2014/WD-powerful-features-20141204/" rel="previous">http://www.w3.org/TR/2014/WD-powerful-features-20141204/</a>
     <dt>Version History:
     <dd><a href="https://github.com/w3c/webappsec/commits/master/specs/powerfulfeatures/index.src.html">https://github.com/w3c/webappsec/commits/master/specs/powerfulfeatures/index.src.html</a>
     <dt>Feedback:
     <dd><span><a href="mailto:public-webappsec@w3.org?subject=%5Bpowerful-features%5D%20YOUR%20TOPIC%20HERE">public-webappsec@w3.org</a> with subject line “<kbd>[powerful-features] <var>… message topic …</var></kbd>” (<a href="http://lists.w3.org/Archives/Public/public-webappsec/" rel="discussion">archives</a>)</span>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/w3c/webappsec/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard" data-editor-id="56384"><a class="p-name fn u-email email" href="mailto:mkwst@google.com">Mike West</a> (<span class="p-org org">Google Inc.</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="75060"><a class="p-name fn u-email email" href="mailto:yzhu@yahoo-inc.com">Yan Zhu</a> (<span class="p-org org">Yahoo! Inc.</span>)
     <dt>Bug Reports:
     <dd><span><a href="https://github.com/w3c/webappsec/issues/new?title=SECURE:%20">via the w3c/webappsec repository on GitHub</a></span>
    </dl>
   </div>

   <div data-fill-with="warning"></div>

   <p class="copyright" data-fill-with="copyright">
    <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2015 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
   </p>

   <hr title="Separator for header">
  </div>


  <h2 class="no-num no-toc no-ref heading settled" id="abstract">
   <span class="content">概要</span>
  </h2>

  <div class="p-summary" data-fill-with="abstract">
   <p>
    この仕様は、信頼できる環境に限定して Web に公開する規定を持った機能を実装する際のガイドラインを、ユーザエージェントの実装者ならびに仕様の策定者に提供します。
   </p>
  </div>


  <h2 class="no-num no-toc no-ref heading settled" id="status">
   <span class="content">この文書の位置付け</span>
  </h2>

  <div data-fill-with="status">

   <p>
    この文書は editor's draft の公式なコピーです。これは議論のみを目的として提供されており、内容が予告なく変更されることがあります。この文書の内容は W3C に公認されてはいません。進行中の仕事として以外でこの文書を引用することはしないでください。
   </p>

   <p>
    <strong>この文書の変更は <a href="https://github.com/w3c/webappsec">https://github.com/w3c/webappsec</a> に記録されるかもしれません。</strong>
   </p>

   <p>
    この仕様に関する議論は、公式メーリングリスト（<a href="http://lists.w3.org/Archives/Public/public-webappsec/">アーカイブ</a>）の <a href="public-webappsec@w3.org">public-webappsec@w3.org</a> が推奨されています（<a href="http://www.w3.org/Mail/Request">利用の手引き</a>を参照してください）。メールを送る際は、題名には "powerful-features" のように、より良くは "[powerful-features] <em>...コメントの要約...</em>" のように書いてください。
   </p>

   <p>
    この文書は <a href="http://www.w3.org/2011/webappsec/">Web Application Security Working Group</a> によって作成されました。
   </p>

   <p>
    この文書は <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a> の下で活動している団体によって作られました。W3C は、グループの成果物に関連して作られた <a href="http://www.w3.org/2004/01/pp-impl/49309/status">public list of any patent disclosures</a> を管理しています。このリストには特許を公開する方法も含まれています。<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> が含まれていると考える特許について実際の知識を持っている方は、<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a> に従って情報を開示しなければなりません。
   </p>

   <p>
    この文書は <a href="http://www.w3.org/2014/Process-20140801/" id="w3c_process_revision">1 August 2014 W3C Process Document</a> によって管理されています。
   </p>

  </div>


  <div data-fill-with="at-risk"></div>

  <h2 class="no-num no-toc no-ref heading settled" id="contents">
   <span class="content">目次</span>
  </h2>

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">導入</span></a>
    <li><a href="#terms"><span class="secno">2</span> <span class="content">中心となる概念と用語</span></a>
    <li><a href="#threat-models-risks"><span class="secno">3</span> <span class="content">脅威モデルとリスク</span></a>
     <ul class="toc">
      <li><a href="#threat-models"><span class="secno">3.1</span> <span class="content">脅威モデル</span></a>
       <ul class="toc">
        <li><a href="#threat-passive"><span class="secno">3.1.1</span> <span class="content">ネットワーク上の受動的な攻撃者</span></a>
        <li><a href="#threat-active"><span class="secno">3.1.2</span> <span class="content">ネットワーク上の能動的な攻撃者</span></a>
       </ul>
      <li><a href="#threat-risks"><span class="secno">3.2</span> <span class="content">安全でないコンテキストに関連するリスク</span></a>
     </ul>
    <li><a href="#restrictions"><span class="secno">4</span> <span class="content">機能の制限</span></a>
     <ul class="toc">
      <li><a href="#new"><span class="secno">4.1</span> <span class="content">新しい機能</span></a>
      <li><a href="#legacy"><span class="secno">4.2</span> <span class="content">レガシーな機能</span></a>
       <ul class="toc">
        <li><a href="#legacy-example"><span class="secno">4.2.1</span> <span class="content">例: Geolocation</span></a>
       </ul>
     </ul>
    <li><a href="#algorithms"><span class="secno">5</span> <span class="content">アルゴリズム</span></a>
     <ul class="toc">
      <li><a href="#settings-secure"><span class="secno">5.1</span> <span class="content"><var>settings object</var> は安全なコンテキストか？</span></a>
      <li><a href="#is-origin-trustworthy"><span class="secno">5.2</span> <span class="content"><var>オリジン</var> は潜在的に信頼できるか？</span></a>
     </ul>
    <li><a href="#implementation-considerations"><span class="secno">6</span> <span class="content">実装において考慮すべき事項</span></a>
     <ul class="toc">
      <li><a href="#packaged-applications"><span class="secno">6.1</span> <span class="content">Packaged Applications</span></a>
      <li><a href="#development-environments"><span class="secno">6.2</span> <span class="content">開発環境</span></a>
     </ul>
    <li><a href="#acknowledgements"><span class="secno">7</span> <span class="content">謝辞</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content">適合性</span></a>
     <ul class="toc">
      <li><a href="#conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#conformant-algorithms"><span class="secno"></span> <span class="content">適合するアルゴリズム</span></a>
      <li><a href="#conformance-classes"><span class="secno"></span> <span class="content">適合するクラス</span></a>
     </ul>
    <li><a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
     <ul class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">この仕様で定義される用語</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">参考文献で定義される用語</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">規範的な文献</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">参考文献</span></a>
     </ul>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issue の索引</span></a>
   </ul></div>

  <main>

   <section>

    <h2 class="heading settled" data-level="1" id="intro">
     <span class="secno">1. </span><span class="content">Introduction</span>
     <a class="self-link" href="#intro"></a>
    </h2>

    <p>
     <em>この節は非規範的です。</em>
    </p>

    <p>
     より便利でより強力なアプリケーションが動作できるよう Web プラットフォームが拡張されるに従って、アプリケーションを動かす機能が最小限のセキュリティ境界を満たすコンテキスト内でのみ動作されることを保障する必要性が高まっています。この文書では、Web における機能の濫用に対する脅威モデルを説明し、新しい機能を規定する文書に組み込まれるべき規範的な要求を説明します。
    </p>

    <p>
     ここで議論される要求のうち最も明白なものは、機密な、あるいは私的な情報にアクセスするアプリケーションのコードは、データの完全性が保障されており、認証され、かつ機密性のある通信路でのみ配信されるべきだということです。安全にコードを配信することはユーザの安全とプライバシーの要求をアプリケーションが常に満たすことを保障できませんが、これは必要な前提条件です。
    </p>

   </section>


   <section>

    <h2 class="heading settled" data-level="2" id="terms">
     <span class="secno">2. </span><span class="content">中心となる概念と用語</span>
     <a class="self-link" href="#terms"></a>
    </h2>

    <dl>
     <dt>
      <dfn data-dfn-type="dfn" data-export="" id="secure-context">安全なコンテキスト<a class="self-link" href="#secure-context"></a></dfn>

      <dd>
       ある <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#settings-object">settings object</a> に対して <a href="#settings-secure">§5.1 settings object は安全なコンテキストか？</a> で定義されるアルゴリズムが実行されて <code>Secure</code> が返された場合、その <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#settings-object">settings object</a> は <strong>安全なコンテキスト</strong> であるといいます。さらに、

       <ul>

        <li>
         ある <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code> の <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#incumbent-settings-object">incumbent settings object</a> に対して <a href="#settings-secure">§5.1 settings object は安全なコンテキストか？</a> で定義されるアルゴリズムが実行されて <code>Secure</code> が返された場合、その <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code> は <dfn data-dfn-type="dfn" data-export="" id="secure-document">安全なドキュメント<a class="self-link" href="#secure-document"></a></dfn> であるといいます。

       <li>
         ある <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/workers/#worker">Worker</a></code>、<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/workers/#sharedworker">SharedWorker</a></code>、または <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/service-workers/#service-worker-obj">ServiceWorker</a></code> の <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#incumbent-settings-object">incumbent settings object</a> に対して <a href="#settings-secure">§5.1 settings object は安全なコンテキストか？</a> で定義されるアルゴリズムが実行されて <code>Secure</code> が返された場合、その <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/workers/#worker">Worker</a></code> は <dfn data-dfn-type="dfn" data-export="" id="secure-worker">安全なワーカー<a class="self-link" href="#secure-worker"></a></dfn> であるといいます。

      </ul>

     <dt>
      <dfn data-dfn-type="dfn" data-noexport="" id="embedding-document">埋め込みドキュメント<a class="self-link" href="#embedding-document"></a></dfn>

      <dd>
       ある <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code> <var>A</var> について、<var>A</var> の <strong>埋め込みドキュメント</strong> とは、 <var>A</var> の<a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#browsing-context">ブラウジングコンテキスト</a>が<a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#browsing-context-nested-through">ネストされている</a> <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code> のことを指します。

    </dl>

   </section>


   <section>

    <h2 class="heading settled" data-level="3" id="threat-models-risks">
     <span class="secno">3. </span><span class="content">脅威モデルとリスク</span>
     <a class="self-link" href="#threat-models-risks"></a>
    </h2>

    <p>
     <em>この節は非規範的です。</em>
    </p>

    <h3 class="heading settled" data-level="3.1" id="threat-models">
     <span class="secno">3.1. </span><span class="content">Threat Models</span>
     <a class="self-link" href="#threat-models"></a>
    </h3>

    <p>認証されていないオリジンに権限を与えることは、ネットワーク上に攻撃者がいない場合、すべてのオリジンに権限を与えることと等価です。インターネットの状況は、ネットワーク上に攻撃者がいることを当然のこととして仮定しなくてはならないほどのものです。一般にネットワーク上の攻撃者は、受動的と能動的との2種類に分類されます。</p>

    <h4 class="heading settled" data-level="3.1.1" id="threat-passive">
     <span class="secno">3.1.1. </span><span class="content">ネットワーク上の受動的な攻撃者</span>
     <a class="self-link" href="#threat-passive"></a>
    </h4>

    <p>
     「ネットワーク上の受動的な攻撃者」とは、通信の流れを観察できるが、この仕様に関わるレイヤーにおける通信の改変はできない、または改変しないことを選ぶ集団を指します。
    </p>

    <p>
     この文脈におけるネットワークの監視は「通信している集団の承認なしに彼らの意志を覆す」、そして「その演者がどれだけ慈悲深いと思われようとも、その演者によって監視が許されている限り、非道な演者の大半から身を守ることはできない」<a data-link-type="biblio" href="#biblio-rfc7258">[RFC7258]</a>。従って、この文書で定義されるアルゴリズムは、アプリケーション層におけるデータの完全性だけでなくプライバシーも提供する仕組みを要求しています
    </p>

    <h4 class="heading settled" data-level="3.1.2" id="threat-active">
     <span class="secno">3.1.2. </span><span class="content">ネットワーク上の能動的な攻撃者</span>
     <a class="self-link" href="#threat-active"></a>
    </h4>

    <p>
     「ネットワーク上の能動的な攻撃者」とは、「ネットワーク上の受動的な攻撃者」が行えることすべてに対する能力を持ち、加えてネットワークを流れるあらゆるデータを改変、阻止、再送できる能力を持ちます。これらの能力は、能力に対する多くのレベルにおける潜在的な敵が持つことができ、公共の無線ネットワークを提供、または単に接続している危殆化した端末に限らず、料金の徴収のために通信を操作していながらセキュリティやプライバシーの脆弱性を間接的に抱えているインターネットサービスプロバイダに至るまで（<a data-link-type="biblio" href="#biblio-verizon">[VERIZON]</a> や <a data-link-type="biblio" href="#biblio-comcast">[COMCAST]</a> が最近の例です）、セキュリティまたはプライバシーを危殆化させる意思を持ち個人や団体、さらには国民全体をも標的にできる集団にとってです。
    </p>

    <h3 class="heading settled" data-level="3.2" id="threat-risks">
     <span class="secno">3.2. </span><span class="content">安全でないコンテキストに関連するリスク</span>
     <a class="self-link" href="#threat-risks"></a>
    </h3>

    <p>
     ユーザの安全とプライバシーに明らかな影響を与える特定の Web プラットフォームの機能は、上で述べた脅威から身を守るために <a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a> の中でのみ利用可能にされるべきです。安全でないコンテキストで利用可能な機能は以下のような可能性をネットワーク上の攻撃者にさらす危険を冒します。
    </p>

    <ol>

     <li>
      機密情報（個人を識別できる情報、資格情報、支払方法など）を閲覧、改変できる可能性。<a data-link-type="biblio" href="#biblio-credential-management">[CREDENTIAL-MANAGEMENT]</a> は機密情報を扱う API の一例です。

     <li>
      ユーザのデバイス（カメラ、マイクロフォン、特に挙げる価値のある GPS、しかし加速度計のように明らかな危険性がほとんどないセンサも確かに含まれています）からの入力の閲覧、改変できる可能性。<a data-link-type="biblio" href="#biblio-geolocation-api">[GEOLOCATION-API]</a> や <a data-link-type="biblio" href="#biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]</a> はセンサの入力を使う機能の歴史的な一例です。

     <li>
      ユーザがアクセスできる他のデバイスに関する情報にアクセスする可能性。<a data-link-type="biblio" href="#biblio-discovery">[DISCOVERY]</a> や <a data-link-type="biblio" href="#biblio-bluetooth">[BLUETOOTH]</a> が良い例です。

     <li>
      ある一定時間の経過後に自身をリセットする識別子（例: <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/html5/webstorage.html#the-sessionstorage-attribute">sessionStorage</a></code>）や、ユーザが手動でリセットできる識別子（例: <a data-link-type="biblio" href="#biblio-encrypted-media">[ENCRYPTED-MEDIA]</a>、Cookie <a data-link-type="biblio" href="#biblio-rfc6265">[RFC6265]</a>、そして <a data-link-type="biblio" href="#biblio-indexeddb">[IndexedDB]</a>）、さらにはユーザが容易にはリセットできないハードウェアの特徴を識別するもの、こういったものを含む一時的、ないしは永続的な識別子を使ってユーザを追跡する可能性。

     <li>
      ブラウザのセッションが切れるまで存在する、オリジンに対する状態を抱える可能性。<a data-link-type="biblio" href="#biblio-service-workers">[SERVICE-WORKERS]</a> がとても良い例です。

     <li>
      ユーザエージェントのネイティブな UI を、削除したり覆い隠したり、またはコンテキストに対するユーザの理解に関連する詳細を操作するなどの方法で操作する可能性。例えば <a data-link-type="biblio" href="#biblio-fullscreen">[FULLSCREEN]</a> が挙げられます。

     <li>
      ユーザの許可が必要な機能を導入する可能性。

    </ol>

    <p>
     このリストはすべてを列挙しているわけではありませんが、仕様を作成したり実装する際に考慮すべきリスクの種類がどういうものか感じられるでしょう。
    </p>

    <p class="note" role="note">
     補足: <a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a> に対して機能を制限することは極めて重要であるのに対し、そのような情報を運ぶ手段（例えば、新しいネットワークにアクセスする仕組み、またはほかのネットワークの情報にアクセスする基本的な機能）が等しく機密的であることを忘れてはいけません。
    </p>

   </section>


   <section>

    <h2 class="heading settled" data-level="4" id="restrictions">
     <span class="secno">4. </span><span class="content">機能の制限</span>
     <a class="self-link" href="#restrictions"></a>
    </h2>

    <h3 class="heading settled" data-level="4.1" id="new">
     <span class="secno">4.1. </span><span class="content">新しい機能</span>
     <a class="self-link" href="#new"></a>
    </h3>

    <p>
     新しい機能に関する仕様を書く際には、<a href="#settings-secure">§5.1 settings object は安全か？</a>に基づく確認をして、機微な API を守るように、著者と編者に勧めます。良いアプローチの一例として、以下のようなものが挙げられます。
    </p>

    <div class="example" id="example-8ce7bce2">
     <a class="self-link" href="#example-8ce7bce2"></a>

     <ol>

      <li>
        もし <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#incumbent-settings-object">incumbent settings object</a> が <a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a>でない場合、[ <i>ここに適切な文章を入れてください。 <code>SecurityError</code> が起きた Promise をリジェクトし、エラー時のコールバックを呼び出し、権限リクエストを拒否する、などといった文章が入るかもしれません</i> ] 。

     </ol>

     <p class="note" role="note">
      補足: 自分の仕様に上の文章をコピー、貼り付けした場合は、仕様のユースケースに適したアクションをプレースホルダの部分へ忘れずに入れてください。
     </p>

    </div>

    <h3 class="heading settled" data-level="4.2" id="legacy">
     <span class="secno">4.2. </span><span class="content">レガシーな機能</span>
     <a class="self-link" href="#legacy"></a>
    </h3>


    <p>
     上に挙げたリストには、安全でない通信路における Web で現時点で存在しアクセス可能な機能が明らかに含まれています。そのようなレガシーな機能に対しては、現実的な範囲で可能な限り早く、<a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a>を求めるように始めてください。
    </p>

    <ol>

     <li>
      そのような機能が広く実装されてはいない場合は、<a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a>に対する制限を含めるよう、仕様をすぐに<a data-link-type="dfn" href="http://www.w3.org/2014/Process-20140801/#rec-modify">変更する</a>ことを勧めます。

     <li>
      そのような機能が広く実装されているが、広く使われてはいない場合は、<a href="#new">§4.1 新しい機能</a> で述べた確認を現存の実装に追加し、それに従って<a data-link-type="dfn" href="http://www.w3.org/2014/Process-20140801/#rec-modify">仕様を変更する</a>ことにより、速やかに<a data-link-type="dfn" href="#secure-context">安全なコンテキスト</a> に制限することを勧めます。

     <li>
      そのような機能が広く使われている場合は、現存の機能を廃止することを勧めます。そして、この文書で説明した制限に仕様が適合しない旨を記述するような仕様の<a data-link-type="dfn" href="http://www.w3.org/2014/Process-20140801/#rec-modify">変更</a>、適合する将来のバージョンを提供して現在のユーザを新しいバージョンに移行させる計画の立案をするべきです。

    </ol>

    <h4 class="heading settled" data-level="4.2.1" id="legacy-example">
     <span class="secno">4.2.1. </span><span class="content">例: Geolocation</span>
     <a class="self-link" href="#legacy-example"></a>
    </h4>

    <p>
     そのような機能の具体例として良いものには <a data-link-type="biblio" href="#biblio-geolocation-api">[GEOLOCATION-API]</a> があります。この機能は広く実装されており、数多くの安全でないサイトで使われています。筋道立てて改善するには、以下のような流れになるかもしれません。
    </p>

    <ol>

     <li>
      <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/geolocation-API/#get-current-position">getCurrentPosition()</a></code> や <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/geolocation-API/#watch-position">watchPosition()</a></code> のアルゴリズムを実行する前に、[[#settings-secure] に対する確認を含めるよう、仕様を<a data-link-type="dfn" href="http://www.w3.org/2014/Process-20140801/#rec-modify">変更します</a>。

      <p>
       もし <a href="#settings-secure">§5.1 settings object は安全なコンテキストか？</a> が <code>Not Secure</code> を返す場合、そのアルゴリズムは中断されるべきであり、<code>PERMISSION_DENIED</code> を表す <code>code</code> とともに <var>errorCallback</var> が呼び出されます。
      </p>

     <li>
      安全でないコンテキストにおいてその API を無効にする明確な意志を、特定の日時に表明するべきであり、それに従って開発者には警告を出すべきです（例えば、コンソールにメッセージを出すなど）。

     <li>
      プログラムの変更日を迎える準備として、単純にすべて停止させる前にサイトの運営者に自分のコードを変更する必要性を認識させることと、その期間においてユーザを守ることとを目的とし、ユーザエージェントは廃止のスケジュールを公表するべきです。そのような計画は次のようなものを含むかもしれません。

      <ul>

       <li>
        安全でないオリジンに対する永続的な権限譲渡の無効化

       <li>
        安全でないオリジンにおける API の精度を粗雑にする（高精度のデータではなく市区町村単位のデータを継続的に返すかもしれません）

       <li>
        ユーザとサイトの運営者に対してリスクを伝えるような UI の変更

      </ul>

    </ol>

   </section>


   <section>

    <h2 class="heading settled" data-level="5" id="algorithms"><span class="secno">5. </span><span class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>


    <section>

     <h3 class="heading settled" data-level="5.1" id="settings-secure"><span class="secno">5.1. </span><span class="content">
      Is <var>settings object</var> a secure context?
    </span><a class="self-link" href="#settings-secure"></a></h3>



     <p>Given a <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#settings-object">settings object</a> <var>settings</var>, this algorithm returns
    <code>Secure</code> if the object represents a <a data-link-type="dfn" href="#secure-context">secure
    context</a>, and <code>Not Secure</code> otherwise.</p>



     <ol>

      <li>
        If <var>settings</var>' <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS state</a> is <strong>not</strong>
        <code>authenticated</code>:


       <ol>

        <li>
            Let <var>origin</var> be <var>settings</var>' <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6454#section-3.2">origin</a>.



        <li>
            If <var>origin</var> is a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6454#section-2.3">globally unique identifier</a>, set
            <var>origin</var> to the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin">origin</a>
            of <var>settings</var>’s <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#api-base-url">API base URL</a>.


         <p class="note" role="note">Note: This is future-proofing against a world where sandboxing
            <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/workers/#worker">Worker</a></code> is a thing.</p>



         <p class="issue" id="issue-ed0737af"><a class="self-link" href="#issue-ed0737af"></a> "<a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#api-base-url">API base URL</a>" isn’t correct. We should use whatever
            gets produced as a result of
            <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27146">bug
            27146</a>.</p>




        <li>
            If the result of executing the <a href="#is-origin-trustworthy">§5.2
      Is origin potentially trustworthy?</a> algorithm
            on <var>origin</var> is <strong>not</strong> <code>Potentially
            Trustworthy</code>, return <code>Not Secure</code>.



       </ol>



       <p class="issue" id="issue-60c8add0"><a class="self-link" href="#issue-60c8add0"></a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS State</a> is poorly defined. For example, we should ensure
        that sandboxed documents retain the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS State</a>
        associated with their transport mechanism. See
        <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27190">bug
        27190</a>.</p>




      <li>
        If <var>settings</var> has a <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#responsible-document">responsible document</a>
        <var>document</var>, then:


       <p class="note" role="note">Note: If <var>settings</var> maps to a <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code> (either directly,
        or as the <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#responsible-document">responsible document</a> of a <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/workers/#worker">Worker</a></code>), we’ll walk all
        the way up the document’s ancestor chain to verify that the whole chain
        is secure.</p>



       <ol>

        <li>
            Let <var>documents to check</var> be a list of <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#interface-document">Document</a></code>s
            containing <var>document</var> and the <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#active-document">active document</a>
            in each of the <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#ancestor-browsing-context">ancestor browsing contexts</a> of
            <var>document</var>’s <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#browsing-context">browsing context</a>.



        <li>
            For each <var>ancestor</var> in <var>documents to check</var>:


         <ol>

          <li>
                If <var>ancestor</var> corresponds to <a data-link-type="dfn" href="http://www.w3.org/TR/html5/embedded-content-0.html#an-iframe-srcdoc-document">an IFrame
                <code>srcdoc</code> <code>Document</code></a>, skip to the next
                <var>ancestor</var>.



          <li>
                If the <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#relevant-settings-object-for-a-global-object">relevant settings object</a> for <var>ancestor</var>’s
                <a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#global-object">global object</a> has a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS State</a> of
                <code>Authenticated</code>, skip to the next
                <var>ancestor</var>.



          <li>
                Let <var>origin</var> be <var>ancestor</var>’s <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6454#section-3.2">origin</a> if
                <var>ancestor</var>’s active <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#sandboxing-flag-set">sandboxing flag set</a> does not
                have its <a data-link-type="dfn" href="http://www.w3.org/TR/html5/browsers.html#sandboxed-origin-browsing-context-flag">sandboxed origin browsing context flag</a> set, and
                the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin">origin of <var>ancestor</var>’s
                <code>URL</code></a> otherwise.



          <li>
                If the result of executing the <a href="#is-origin-trustworthy">§5.2
      Is origin potentially trustworthy?</a>
                algorithm on <var>origin</var> is <strong>not</strong>
                <code>Potentially Trustworthy</code>, return
                <code>Not Secure</code>.



         </ol>




       </ol>




      <li>
        Return <code>Secure</code>



     </ol>


    </section>


    <section>

     <h3 class="heading settled" data-level="5.2" id="is-origin-trustworthy"><span class="secno">5.2. </span><span class="content">
      Is <var>origin</var> potentially trustworthy?
    </span><a class="self-link" href="#is-origin-trustworthy"></a></h3>



     <p>Certain origins are always potentially trustworthy. In particular, UAs
    MUST treat <code>file</code> URLs and URLs with hostnames names equivalent
    to "localhost" as potentially trustworthy. In principle the UA could treat
    local files and local web servers as untrustworthy. However, <em>given the
    information that is available to the UA at runtime</em>, the resources
    appear to have been transported securely. Additionally, treating such
    resources as potentially trustworthy is convenient for developers building
    an application before deploying it to the public.</p>



     <p>A user agent MAY choose to extend this trust to other, vendor-specific URL
    schemes like <code>app:</code> or <code>chrome-extension:</code>.</p>



     <p>Given an <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc6454#section-3.2">origin</a> <var>origin</var>, the following algorithm returns
    <code>Potentially Trustworthy</code> or <code>Not Trustworthy</code> as
    appropriate.</p>



     <ol>

      <li>
        If <var>origin</var> is a <a data-link-type="dfn" href="https://w3c.github.io/webappsec/specs/mixedcontent/#potentially-secure-origin">potentially secure origin</a>,
        return <code>Potentially Trustworthy</code>.


       <p class="note" role="note">Note: The origin of <code>blob:</code> and <code>filesystem:</code> URLs
        is the origin of the context in which they were created. Therefore,
        blobs created in an potentially secure origin will themselves be
        potentially secure. The origin of <code>data:</code> and
        <code>javascript:</code> URLs is an opaque identifier, which will not
        be considered potentially secure.</p>




      <li>
        If <var>origin</var>’s <code>host</code> component is or falls within
        <code>localhost.</code> <a data-link-type="biblio" href="#biblio-rfc6761">[RFC6761]</a>, return <code>Potentially
        Trustworthy</code>.



      <li>
        If <var>origin</var>’s <code>host</code> component matches one of
        the CIDR notations <code>127.0.0.0/8</code> or <code>::1/128</code>
        <a data-link-type="biblio" href="#biblio-rfc4632">[RFC4632]</a>, return <code>Potentially Trustworthy</code>.



      <li>
        If <var>origin</var>’s <code>scheme</code> component is
        <code>file</code>, return <code>Potentially Trustworthy</code>.



      <li>
        If <var>origin</var>’s <code>scheme</code> component is one which
        the user agent considers to be authenticated, return
        <code>Potentially Trustworthy</code>.


       <p class="note" role="note">Note: See <a href="#packaged-applications">§6.1 Packaged Applications</a> for detail here.</p>




      <li>
        If <var>origin</var> has been configured as a trustworthy origin,
        return <code>Potentially Trustworthy</code>.


       <p class="note" role="note">Note: See <a href="#development-environments">§6.2 Development Environments</a> for detail here.</p>




      <li>
        Return <code>Not Trusted</code>.



     </ol>


    </section>
</section>


   <section>

    <h2 class="heading settled" data-level="6" id="implementation-considerations"><span class="secno">6. </span><span class="content">Implementation Considerations</span><a class="self-link" href="#implementation-considerations"></a></h2>


    <h3 class="heading settled" data-level="6.1" id="packaged-applications"><span class="secno">6.1. </span><span class="content">Packaged Applications</span><a class="self-link" href="#packaged-applications"></a></h3>


    <p>User agents that support packaged applications MAY whitelist specific URL
  schemes whose contents are authenticated by the user agent. For example,
  FirefoxOS application resources are referred to by a URL whose
  <code>scheme</code> component is <code>app:</code>. Likewise, Chrome’s
  extensions and apps live on <code>chrome-extension:</code> schemes. These
  could reasonably be considered trusted origins.</p>


    <h3 class="heading settled" data-level="6.2" id="development-environments"><span class="secno">6.2. </span><span class="content">Development Environments</span><a class="self-link" href="#development-environments"></a></h3>


    <p>In order to support developers who run staging servers on non-loopback hosts,
  user agents MAY allow users to configure specific sets of origins as
  trustworthy, even though <a href="#is-origin-trustworthy">§5.2
      Is origin potentially trustworthy?</a> would normally return
  <code>Not Trusted</code>.</p>
</section>



   <section>

    <h2 class="heading settled" data-level="7" id="acknowledgements"><span class="secno">7. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>


    <p>This document is largely based on the Chrome Security team’s work on
  <a data-link-type="biblio" href="#biblio-powerful-new-features">[POWERFUL-NEW-FEATURES]</a>. Chris Palmer, Ryan Sleevi, and David Dorwin have
  been particularly engaged. Anne van Kesteren and Henri Sivonen have also
  provided very helpful feedback.</p>
</section>

</main>

  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>


  <h3 class="no-ref no-num heading settled" id="conventions"><span class="content">Document conventions</span><a class="self-link" href="#conventions"></a></h3>


  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>


  <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    </p>
  <div class="example" id="example-f839f6c8"><a class="self-link" href="#example-f839f6c8"></a>

   <p>This is an example of an informative example.</p>


  </div>


  <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    </p>
  <p class="note" role="note">Note, this is an informative note.</p>


  <h3 class="no-ref no-num heading settled" id="conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#conformant-algorithms"></a></h3>


  <p>Requirements phrased in the imperative as part of algorithms (such as
    "strip any leading space characters" or "return false and abort these
    steps") are to be interpreted with the meaning of the key word ("must",
    "should", "may", etc) used in introducing the algorithm.</p>


  <p>Conformance requirements phrased as algorithms or specific steps can be
    implemented in any manner, so long as the end result is equivalent. In
    particular, the algorithms defined in this specification are intended to
    be easy to understand and are not intended to be performant. Implementers
    are encouraged to optimize.</p>


  <h3 class="no-ref no-num heading settled" id="conformance-classes"><span class="content">Conformance Classes</span><a class="self-link" href="#conformance-classes"></a></h3>


  <p>A <dfn data-dfn-type="dfn" data-noexport="" id="conformant-user-agent">conformant user agent<a class="self-link" href="#conformant-user-agent"></a></dfn> must implement all the requirements
    listed in this specification that are applicable to user agents.</p>


  <p>A <dfn data-dfn-type="dfn" data-noexport="" id="conformant-server">conformant server<a class="self-link" href="#conformant-server"></a></dfn> must implement all the requirements listed
    in this specification that are applicable to servers.</p>




  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="indexlist">
   <li>conformant server, <a href="#conformant-server">Unnumbered section</a>
   <li>conformant user agent, <a href="#conformant-user-agent">Unnumbered section</a>
   <li>embedding document, <a href="#embedding-document">2</a>
   <li>secure context, <a href="#secure-context">2</a>
   <li>secure document, <a href="#secure-document">2</a>
   <li>secure worker, <a href="#secure-worker">2</a></ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="indexlist">
   <li><a data-link-type="biblio" href="#biblio-dom">[dom]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/dom/#interface-document">Document</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-fetch">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response-tls-state">tls state</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-geolocation-api">[geolocation-API]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/geolocation-API/#get-current-position">getCurrentPosition()</a>
     <li><a href="http://www.w3.org/TR/geolocation-API/#watch-position">watchPosition()</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-html5">[html5]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#active-document">active document</a>
     <li><a href="http://www.w3.org/TR/html5/embedded-content-0.html#an-iframe-srcdoc-document">an iframe srcdoc document</a>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#ancestor-browsing-context">ancestor browsing context</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#api-base-url">api base url</a>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#browsing-context">browsing context</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#global-object">global object</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#incumbent-settings-object">incumbent settings object</a>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#browsing-context-nested-through">nested through</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#relevant-settings-object-for-a-global-object">relevant settings object</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#responsible-document">responsible document</a>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#sandboxed-origin-browsing-context-flag">sandboxed origin browsing context flag</a>
     <li><a href="http://www.w3.org/TR/html5/browsers.html#sandboxing-flag-set">sandboxing flag set</a>
     <li><a href="http://www.w3.org/TR/html5/webstorage.html#the-sessionstorage-attribute">sessionStorage</a>
     <li><a href="http://www.w3.org/TR/html5/webappapis.html#settings-object">settings object</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-mix">[MIX]</a> defines the following terms:
    <ul>
     <li><a href="https://w3c.github.io/webappsec/specs/mixedcontent/#potentially-secure-origin">potentially secure origin</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-rfc6454">[RFC6454]</a> defines the following terms:
    <ul>
     <li><a href="https://tools.ietf.org/html/rfc6454#section-2.3">globally unique identifier</a>
     <li><a href="https://tools.ietf.org/html/rfc6454#section-3.2">origin</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-service-workers">[service-workers]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/service-workers/#service-worker-obj">ServiceWorker</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-url">[URL]</a> defines the following terms:
    <ul>
     <li><a href="https://url.spec.whatwg.org/#concept-url-origin">origin of a url</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-w3c-process">[W3C-PROCESS]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/2014/Process-20140801/#rec-modify">modify a specification</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-workers">[workers]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/workers/#sharedworker">SharedWorker</a>
     <li><a href="http://www.w3.org/TR/workers/#worker">Worker</a>
    </ul></ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-fetch"><a class="self-link" href="#biblio-fetch"></a>[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-mix"><a class="self-link" href="#biblio-mix"></a>[MIX]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec/specs/mixedcontent/">Mixed Content</a>. LCWD. URL: <a href="https://w3c.github.io/webappsec/specs/mixedcontent/">https://w3c.github.io/webappsec/specs/mixedcontent/</a>
   <dt id="biblio-rfc4632"><a class="self-link" href="#biblio-rfc4632"></a>[RFC4632]
   <dd>Vince Fuller; Tony Li. <a href="http://www.ietf.org/rfc/rfc4632.txt">Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan</a>. RFC. URL: <a href="http://www.ietf.org/rfc/rfc4632.txt">http://www.ietf.org/rfc/rfc4632.txt</a>
   <dt id="biblio-rfc6454"><a class="self-link" href="#biblio-rfc6454"></a>[RFC6454]
   <dd>Adam Barth. <a href="http://www.ietf.org/rfc/rfc6454.txt">The Web Origin Concept</a>. RFC. URL: <a href="http://www.ietf.org/rfc/rfc6454.txt">http://www.ietf.org/rfc/rfc6454.txt</a>
   <dt id="biblio-rfc6761"><a class="self-link" href="#biblio-rfc6761"></a>[RFC6761]
   <dd>Stuart Cheshire; Marc Krochmal. <a href="http://www.ietf.org/rfc/rfc6761.txt">Special-Use Domain Names</a>. RFC. URL: <a href="http://www.ietf.org/rfc/rfc6761.txt">http://www.ietf.org/rfc/rfc6761.txt</a>
   <dt id="biblio-url"><a class="self-link" href="#biblio-url"></a>[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-w3c-process"><a class="self-link" href="#biblio-w3c-process"></a>[W3C-PROCESS]
   <dd>Charles McCathie Nevile. <a href="http://www.w3.org/2014/Process-20140801/">World Wide Web Consortium Process Document</a>. URL: <a href="http://www.w3.org/2014/Process-20140801/">http://www.w3.org/2014/Process-20140801/</a>
   <dt id="biblio-dom"><a class="self-link" href="#biblio-dom"></a>[DOM]
   <dd>Anne van Kesteren; et al. <a href="http://www.w3.org/TR/dom/">W3C DOM4</a>. 18 June 2015. LCWD. URL: <a href="http://www.w3.org/TR/dom/">http://www.w3.org/TR/dom/</a>
   <dt id="biblio-geolocation-api"><a class="self-link" href="#biblio-geolocation-api"></a>[geolocation-API]
   <dd>Andrei Popescu. <a href="http://www.w3.org/TR/geolocation-API/">Geolocation API Specification</a>. 28 May 2015. PER. URL: <a href="http://www.w3.org/TR/geolocation-API/">http://www.w3.org/TR/geolocation-API/</a>
   <dt id="biblio-html5"><a class="self-link" href="#biblio-html5"></a>[HTML5]
   <dd>Ian Hickson; et al. <a href="http://www.w3.org/TR/html5/">HTML5</a>. 28 October 2014. REC. URL: <a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-service-workers"><a class="self-link" href="#biblio-service-workers"></a>[SERVICE-WORKERS]
   <dd>Alex Russell; Jungkee Song; Jake Archibald. <a href="http://www.w3.org/TR/service-workers/">Service Workers</a>. 25 June 2015. WD. URL: <a href="http://www.w3.org/TR/service-workers/">http://www.w3.org/TR/service-workers/</a>
   <dt id="biblio-workers"><a class="self-link" href="#biblio-workers"></a>[WORKERS]
   <dd>Ian Hickson. <a href="http://www.w3.org/TR/workers/">Web Workers</a>. 1 May 2012. CR. URL: <a href="http://www.w3.org/TR/workers/">http://www.w3.org/TR/workers/</a></dl>
  <h3 class="no-num heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-bluetooth"><a class="self-link" href="#biblio-bluetooth"></a>[BLUETOOTH]
   <dd>Jeffrey Yasskin; Vincent Scheib. <a href="https://webbluetoothcg.github.io/web-bluetooth/">Web Bluetooth</a>. URL: <a href="https://webbluetoothcg.github.io/web-bluetooth/">https://webbluetoothcg.github.io/web-bluetooth/</a>
   <dt id="biblio-comcast"><a class="self-link" href="#biblio-comcast"></a>[COMCAST]
   <dd>David Kravets. <a href="http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/">Comcast Wi-Fi serving self-promotional ads via JavaScript injection</a>. URL: <a href="http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/">http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/</a>
   <dt id="biblio-credential-management"><a class="self-link" href="#biblio-credential-management"></a>[CREDENTIAL-MANAGEMENT]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec/specs/credentialmanagement/">Credential Management</a>. ED. URL: <a href="https://w3c.github.io/webappsec/specs/credentialmanagement/">https://w3c.github.io/webappsec/specs/credentialmanagement/</a>
   <dt id="biblio-discovery"><a class="self-link" href="#biblio-discovery"></a>[DISCOVERY]
   <dd>Rich Tibbett. <a href="https://dvcs.w3.org/hg/dap/raw-file/tip/discovery-api/Overview.html">Network Service Discovery</a>. URL: <a href="https://dvcs.w3.org/hg/dap/raw-file/tip/discovery-api/Overview.html">https://dvcs.w3.org/hg/dap/raw-file/tip/discovery-api/Overview.html</a>
   <dt id="biblio-indexeddb"><a class="self-link" href="#biblio-indexeddb"></a>[IndexedDB]
   <dd>Nikunj Mehta; et al. <a href="http://www.w3.org/TR/IndexedDB/">Indexed Database API</a>. 8 January 2015. REC. URL: <a href="http://www.w3.org/TR/IndexedDB/">http://www.w3.org/TR/IndexedDB/</a>
   <dt id="biblio-powerful-new-features"><a class="self-link" href="#biblio-powerful-new-features"></a>[POWERFUL-NEW-FEATURES]
   <dd>Chrome Security Team. <a href="https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features">Prefer Secure Origins For Powerful New Features</a>. URL: <a href="https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features">https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features</a>
   <dt id="biblio-rfc7258"><a class="self-link" href="#biblio-rfc7258"></a>[RFC7258]
   <dd>Stephen Farrell; Hannes Tschofenig. <a href="http://www.ietf.org/rfc/rfc7258.txt">Pervasive Monitoring Is an Attack</a>. RFC. URL: <a href="http://www.ietf.org/rfc/rfc7258.txt">http://www.ietf.org/rfc/rfc7258.txt</a>
   <dt id="biblio-verizon"><a class="self-link" href="#biblio-verizon"></a>[VERIZON]
   <dd>Mark Bergen; Alex Kantrowitz. <a href="http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/">Verizon looks to target its mobile subscribers with ads</a>. URL: <a href="http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/">http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/</a>
   <dt id="biblio-encrypted-media"><a class="self-link" href="#biblio-encrypted-media"></a>[ENCRYPTED-MEDIA]
   <dd>David Dorwin; et al. <a href="http://www.w3.org/TR/encrypted-media/">Encrypted Media Extensions</a>. 31 March 2015. WD. URL: <a href="http://www.w3.org/TR/encrypted-media/">http://www.w3.org/TR/encrypted-media/</a>
   <dt id="biblio-fullscreen"><a class="self-link" href="#biblio-fullscreen"></a>[FULLSCREEN]
   <dd>Anne van Kesteren; Tantek Çelik. <a href="http://www.w3.org/TR/fullscreen/">Fullscreen</a>. 18 November 2014. NOTE. URL: <a href="http://www.w3.org/TR/fullscreen/">http://www.w3.org/TR/fullscreen/</a>
   <dt id="biblio-mediacapture-streams"><a class="self-link" href="#biblio-mediacapture-streams"></a>[MEDIACAPTURE-STREAMS]
   <dd>Daniel Burnett; et al. <a href="http://www.w3.org/TR/mediacapture-streams/">Media Capture and Streams</a>. 14 April 2015. LCWD. URL: <a href="http://www.w3.org/TR/mediacapture-streams/">http://www.w3.org/TR/mediacapture-streams/</a>
   <dt id="biblio-rfc6265"><a class="self-link" href="#biblio-rfc6265"></a>[RFC6265]
   <dd>A. Barth. <a href="https://tools.ietf.org/html/rfc6265">HTTP State Management Mechanism</a>. April 2011. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6265">https://tools.ietf.org/html/rfc6265</a></dl>
  <h2 class="no-num heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> "<a data-link-type="dfn" href="http://www.w3.org/TR/html5/webappapis.html#api-base-url">API base URL</a>" isn’t correct. We should use whatever
            gets produced as a result of
            <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27146">bug
            27146</a>.<a href="#issue-ed0737af"> ↵ </a></div>
   <div class="issue"> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS State</a> is poorly defined. For example, we should ensure
        that sandboxed documents retain the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-tls-state">TLS State</a>
        associated with their transport mechanism. See
        <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27190">bug
        27190</a>.<a href="#issue-60c8add0"> ↵ </a></div></div></body>
</html>
